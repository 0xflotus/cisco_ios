---
default:
  read_tests:
    "multiple interfaces":
      cli: "interface Vlan4\n no ip address\n shutdown\ninterface Vlan5\n no ip address\n shutdown\n"
      expectations:
      - :name: 'Vlan4'
        :enable: false
        :ensure: :present
      - :name: 'Vlan5'
        :enable: false
        :ensure: :present
    "multiple interface description mtu does not parse ip mtu":
      cli: "interface Vlan4\n description this is a test\n mtu 126\n no ip address\n ip mtu 125\n shutdown\ninterface Vlan5\n description this is also a test\n no ip address\n ip mtu 125\n"
      expectations:
      - :name: 'Vlan4'
        :enable: false
        :ensure: :present
        :description: 'this is a test'
        :mtu: 126
      - :name: 'Vlan5'
        :enable: true
        :ensure: :present
        :description: 'this is also a test'
  read_and_create_tests:
    "single interface":
      cli: "interface Vlan4\n no ip address\n shutdown\n"
      commands:
      - "shutdown"
      expectations:
      - :name: 'Vlan4'
        :enable: false
        :ensure: :present
    "single interface description mtu":
      cli: "interface Vlan4\n description this is a test\n mtu 128\n no ip address\n shutdown\n"
      commands:
      - "description this is a test"
      - "mtu 128"
      - "shutdown"
      expectations:
      - :name: 'Vlan4'
        :enable: false
        :ensure: :present
        :description: 'this is a test'
        :mtu: 128
    "single interface description speed 10 duplex no shutdown":
      cli: "interface GigabitEthernet3/42\n description this is a test\n speed 10\n duplex full\n"
      commands:
      - "description this is a test"
      - "speed 10"
      - "duplex full"
      - "no shutdown"
      expectations:
      - :name: 'GigabitEthernet3/42'
        :enable: true
        :ensure: :present
        :description: 'this is a test'
        :speed: '10m'
        :duplex: 'full'
    "single interface description speed 100 duplex no shutdown":
      cli: "interface GigabitEthernet3/42\n description this is a test\n no ip address\n speed 100\n duplex half\n"
      commands:
      - "description this is a test"
      - "speed 100"
      - "duplex half"
      - "no shutdown"
      expectations:
      - :name: 'GigabitEthernet3/42'
        :enable: true
        :ensure: :present
        :description: 'this is a test'
        :speed: '100m'
        :duplex: 'half'
    "single interface description speed 1000 duplex no shutdown":
      cli: "interface GigabitEthernet3/42\n description this is a test\n speed 1000\n duplex full\n"
      commands:
      - "description this is a test"
      - "speed 1000"
      - "duplex full"
      - "no shutdown"
      expectations:
      - :name: 'GigabitEthernet3/42'
        :enable: true
        :ensure: :present
        :description: 'this is a test'
        :speed: '1g'
        :duplex: 'full'
    "single interface description speed 15g duplex no shutdown":
      cli: "interface GigabitEthernet3/42\n description this is a test\n speed 15g\n duplex full\n"
      commands:
      - "description this is a test"
      - "speed 15g"
      - "duplex full"
      - "no shutdown"
      expectations:
      - :name: 'GigabitEthernet3/42'
        :enable: true
        :ensure: :present
        :description: 'this is a test'
        :speed: '15g'
        :duplex: 'full'
        :ensure: :present
  update_tests:
    "update":
      commands:
      - "description This is still a test"
      - "mtu 128"
      - "shutdown"
      expectations:
      - :name: 'Vlan4'
        :enable: false
        :ensure: :present
        :description: 'This is still a test'
        :mtu: 128
    "remove":
      commands:
      - "default interface Vlan42"
      - "no interface Vlan42"
      expectations:
      - :name: 'Vlan42'
        :enable: false
        :ensure: :absent
        :description: 'This is still a test'
        :mtu: 128
2960:
  update_tests:
    "update":
      commands:
      - "description This is still a test"
      - "shutdown"
      expectations:
      - :name: 'Vlan4'
        :enable: false
        :ensure: :present
        :description: 'This is still a test'
        :mtu: 128
