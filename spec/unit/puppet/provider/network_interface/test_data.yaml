---
default:
  tests:  
    - name: "net_interface_parse single interface"
      device_output: "interface Vlan4\n no ip address\n shutdown\n" 
      expectations: 
      - "{ name: 'Vlan4', enable: false, ensure: :present }"
    - name: "net_interface_parse multiple interface"
      device_output: "interface Vlan4\n no ip address\n shutdown\ninterface Vlan5\n no ip address\n shutdown\ncisco-c6503e#" 
      expectations: 
      - "{ name: 'Vlan4', enable: false, ensure: :present }"
      - "{ name: 'Vlan5', enable: false, ensure: :present }"
    - name: "net_interface_parse single interface description mtu"
      device_output: "interface Vlan4\n description this is a test\n mtu 128\n no ip address\n shutdown\ncisco-c6503e#" 
      expectations: 
      - "{ name: 'Vlan4', enable: false, ensure: :present, description: 'this is a test', mtu: 128 }"
    - name: "net_interface_parse single interface description speed duplex no shutdown"
      device_output: "interface GigabitEthernet3/42\n description this is a test\n no ip address\n speed 100\n duplex half\ncisco-c6503e#" 
      expectations: 
      - "{ name: 'GigabitEthernet3/42', enable: true, ensure: :present, description: 'this is a test', speed: '100m', duplex: 'half' }"
    - name: "net_interface_parse multiple interface description mtu does not parse ip mtu"
      device_output: "interface Vlan4\n description this is a test\n mtu 126\n no ip address\n ip mtu 125\n shutdown\ninterface Vlan5\n description this is also a test\n no ip address\n ip mtu 125\ncisco-c6503e#" 
      expectations: 
      - "{ name: 'Vlan4', enable: false, ensure: :present, description: 'this is a test', mtu: 126 }"
      - "{ name: 'Vlan5', enable: true, ensure: :present, description: 'this is also a test'}"
 
